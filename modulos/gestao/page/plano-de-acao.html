<link rel="stylesheet" href="../css/plano-de-acao.css">

<div class="view-container">
    <div id="plano-de-acao-content">
        <div class="kanban-board">
            <div class="kanban-column" id="coluna-a-fazer">
                <h2 class="column-header">A Fazer</h2>
                <div class="cards-container"><div class="loading-spinner"></div></div>
            </div>
            <div class="kanban-column" id="coluna-em-andamento">
                <h2 class="column-header">Em Andamento</h2>
                <div class="cards-container"></div>
            </div>
            <div class="kanban-column" id="coluna-atrasado">
                <h2 class="column-header">Atrasado</h2>
                <div class="cards-container"></div>
            </div>
            <div class="kanban-column" id="coluna-concluido">
                <h2 class="column-header">Concluído</h2>
                <div class="cards-container"></div>
            </div>
        </div>
    </div>
</div>

<div id="update-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h3 id="modal-title">Atualizar Item</h3>
            <button id="btn-cancel-update" class="close-modal-btn">&times;</button>
        </div>
        
        <div class="modal-body">
            <small id="modal-origem"></small>

            <label>Histórico de Atualizações</label>
            <div id="historico-atualizacoes"></div>

            <div id="nova-atualizacao-form">
                <label for="modal-nova-atualizacao">Inserir nova atualização</label>
                <textarea id="modal-nova-atualizacao" class="form-control" rows="4"></textarea>
            </div>

            <label class="checkbox-label"><input type="checkbox" id="modal-necessita-encaminhar"> Necessário Encaminhar?</label>
            
            <div id="encaminhamento-vinculado-form" style="display:none;">
                <h4>Novo Encaminhamento Vinculado</h4>
                <div class="form-grid">
                    <div class="form-group">
                        <label>Gestor</label>
                        <select id="modal-enc-gestor" class="form-control"></select>
                    </div>
                    <div class="form-group">
                        <label>Departamento</label>
                        <select id="modal-enc-departamento" class="form-control"></select>
                    </div>
                    <div class="form-group full-width">
                        <label>Motivo</label>
                        <textarea id="modal-enc-motivo" class="form-control" rows="3"></textarea>
                    </div>
                     <div class="form-group full-width">
                        <label>Prazo</label>
                        <input type="date" id="modal-enc-prazo" class="form-control">
                    </div>
                </div>
            </div>
        </div>

        <div class="modal-footer">
            <button type="button" class="action-button secondary-button" id="btn-fechar-modal-rodape">Fechar</button>
            <button type="button" class="action-button btn-save" id="btn-salvar-geral">Salvar Alterações</button>
        </div>
    </div>
</div>