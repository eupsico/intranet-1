/* Arquivo: /modulos/administrativo/css/grade.css
   Versão: 2.0
   Descrição: Estilos refatorados para a Grade de Horários, integrados ao design system.
*/

/* Abas secundárias (dias da semana) */
.grade-day-tabs {
    display: flex;
    border-bottom: 2px solid var(--cor-borda);
    margin-bottom: 20px;
    overflow-x: auto;
    white-space: nowrap;
}

.grade-day-tabs button {
    background-color: transparent;
    border: none;
    padding: 12px 18px;
    cursor: pointer;
    font-size: 1em;
    font-weight: 500;
    color: var(--cor-texto-secundario);
    border-bottom: 3px solid transparent;
    transition: all 0.2s ease;
    flex-shrink: 0;
}

.grade-day-tabs button:hover {
    background-color: var(--cor-fundo);
}

.grade-day-tabs button.active {
    color: var(--cor-primaria);
    font-weight: 600;
    border-bottom-color: var(--cor-primaria);
}

/* Container da tabela para permitir rolagem horizontal em telas pequenas */
.table-wrapper {
    overflow-x: auto;
}

.grade-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.9em;
    min-width: 900px; /* Largura mínima para evitar quebra excessiva */
}

.grade-table th, 
.grade-table td {
    border: 1px solid var(--cor-borda);
    padding: 5px;
    text-align: center;
    vertical-align: middle;
}

.grade-table thead th {
    background-color: var(--cor-primaria);
    color: var(--cor-texto-inverso);
    padding: 12px 5px;
    position: sticky;
    top: 0;
    z-index: 1;
}

/* Células de cabeçalho da linha (Período e Horário) */
.grade-table .period-cell,
.grade-table .hour-cell {
    font-weight: 600;
    background-color: var(--cor-fundo);
    width: 90px;
}

/* Cores para os períodos do dia */
.grade-table .periodo-manha { background-color: #e3f2fd; }
.grade-table .periodo-tarde { background-color: #fffde7; }
.grade-table .periodo-noite { background-color: #f3e5f5; }

/* Estilo dos seletores (dropdowns) dentro da tabela */
.grade-table tbody select {
    width: 100%;
    border: 2px solid transparent;
    border-radius: var(--borda-radius);
    font-weight: 500;
    transition: all 0.3s ease;
    appearance: none;
    background-color: var(--cor-surface);
    padding: 6px;
    cursor: pointer;
    font-size: 0.95em;
    text-align: center;
}

/* Estilos de status para o salvamento automático */
.grade-table tbody select.is-saving { 
    border-color: var(--cor-alerta);
    background-color: #fff3cd;
}
.grade-table tbody select.is-saved { 
    border-color: var(--cor-sucesso); 
    background-color: #d4edda;
}
.grade-table tbody select.is-error { 
    border-color: var(--cor-erro); 
    background-color: #f8d7da;
}

/* --- OTIMIZAÇÃO PARA CELULAR (Responsividade) --- */
@media screen and (max-width: 768px) {
    .grade-table {
        min-width: 100%;
        border: 0;
    }
    .grade-table thead {
        display: none; /* Esconde o cabeçalho original */
    }
    .grade-table tr {
        display: block;
        border: 1px solid var(--cor-borda);
        border-radius: var(--borda-radius);
        margin-bottom: 1em;
        box-shadow: var(--sombra-suave);
    }
    .grade-table td {
        display: block;
        text-align: right; /* Alinha o valor à direita */
        border: none;
        border-bottom: 1px solid #eee;
        padding-left: 50%; /* Espaço para o "label" */
        position: relative;
    }
    .grade-table td:last-child {
        border-bottom: 0;
    }
    .grade-table td::before {
        content: attr(data-label); /* Pega o texto do cabeçalho */
        position: absolute;
        left: 10px;
        width: 45%;
        padding-right: 10px;
        white-space: nowrap;
        text-align: left; /* Alinha o "label" à esquerda */
        font-weight: 600;
        color: var(--cor-primaria);
    }
    .grade-table td.period-cell {
        display: none; /* Esconde a coluna "Período" no celular */
    }
    .grade-table .hour-cell {
        font-size: 1.2em;
        font-weight: 700;
        background-color: var(--cor-fundo);
        text-align: center;
        padding-left: 0;
    }
    .grade-table .hour-cell::before {
        display: none;
    }
}