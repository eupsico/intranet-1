<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gestão de Vagas - EuPsico</title>
</head>

<body>

  <div class="painel-gestao-vagas">
    <h2 class="painel-titulo">Gestão de Vagas</h2>

    <div class="description-box">
      <p>
        Este painel permite gerenciar o ciclo de vida das vagas, desde a criação
        da Ficha Técnica, aprovação da arte de divulgação até o fechamento.
        Utilize o botão <strong>"Criar Ficha Técnica"</strong> para iniciar um
        novo processo seletivo.
      </p>
    </div>

    <div class="acoes-header">
      <button id="btn-nova-vaga" class="action-button primary">
        <i class="fas fa-plus me-2"></i> Criar Ficha Técnica
      </button>
    </div>

    <div class="tabs-container status-tabs">
      <button class="tab-link active" data-status="abertas">
        <i class="fas fa-edit me-2"></i> Em Elaboração (0)
      </button>
      <button class="tab-link" data-status="correcao">
        <i class="fas fa-exclamation-triangle me-2"></i> Alterações Solicitadas (0)
      </button>
      <button class="tab-link" data-status="aprovacao-gestao">
        <i class="fas fa-clipboard-check me-2"></i> Aprovação da Vaga (0)
      </button>
      <button class="tab-link" data-status="arte-pendente">
        <i class="fas fa-palette me-2"></i> Criação da Arte (0)
      </button>
      <button class="tab-link" data-status="aprovacao-arte">
        <i class="fas fa-check-circle me-2"></i> Aprovação da Arte (0)
      </button>
      <button class="tab-link" data-status="em-divulgacao">
        <i class="fas fa-bullhorn me-2"></i> Em Divulgação (0)
      </button>
      <button class="tab-link" data-status="fechadas">
        <i class="fas fa-archive me-2"></i> Fechadas/Encerradas (0)
      </button>
    </div>

    <div id="lista-vagas" class="tab-content active">
      <p id="mensagem-vagas" class="alert alert-info">
        Nenhuma vaga encontrada para este status.
      </p>
    </div>

    <!-- Modal: Ficha Técnica -->
    <div id="modal-vaga" class="modal-overlay">
      <div class="modal-content" style="max-width: 900px;">
        <form id="form-vaga">
          <div class="modal-header">
            <h3 id="ficha-title">Detalhes da Vaga</h3>
            <button type="button" class="close-modal-btn" data-modal="modal-vaga" aria-label="Fechar modal">
              &times;
            </button>
          </div>

          <div class="modal-body">
            <div id="secao-ficha-tecnica" class="modal-secao active">

              <!-- Sobre o Cargo -->
              <fieldset>
                <legend><i class="fas fa-briefcase me-2"></i>Sobre o Cargo</legend>
                <div class="details-grid cols-2">
                  <div class="form-group">
                    <label for="vaga-nome" class="form-label">Título da Vaga *</label>
                    <input type="text" id="vaga-nome" class="form-control" required
                      placeholder="Ex: Psicólogo Clínico" />
                  </div>
                  <div class="form-group">
                    <label for="vaga-departamento" class="form-label">Departamento *</label>
                    <select id="vaga-departamento" class="form-control" required>
                      <option value="">Carregando Departamentos...</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label for="vaga-tipo-recrutamento" class="form-label">Tipo de Recrutamento *</label>
                    <select id="vaga-tipo-recrutamento" class="form-control" required>
                      <option value="">Selecione o Tipo</option>
                      <option value="interno">Interno</option>
                      <option value="externo">Externo</option>
                      <option value="misto">Misto</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label for="vaga-regime-trabalho" class="form-label">Regime de Trabalho *</label>
                    <select id="vaga-regime-trabalho" class="form-control" required>
                      <option value="">Selecione o Regime</option>
                      <option value="clt">CLT</option>
                      <option value="contrato">Contrato</option>
                      <option value="estagio">Estágio</option>
                      <option value="pj">PJ</option>
                      <option value="voluntario">Voluntário</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label for="vaga-modalidade-trabalho" class="form-label">Modalidade de Trabalho *</label>
                    <select id="vaga-modalidade-trabalho" class="form-control" required>
                      <option value="">Selecione a Modalidade</option>
                      <option value="presencial">Presencial</option>
                      <option value="remoto">Remoto</option>
                      <option value="hibrido">Híbrido</option>
                    </select>
                  </div>
                </div>

                <div class="form-group">
                  <label for="vaga-responsabilidades" class="form-label">
                    Quais são as principais responsabilidades e atividades? *
                  </label>
                  <textarea id="vaga-responsabilidades" class="form-control" rows="4" required
                    placeholder="Descreva as principais responsabilidades do cargo..."></textarea>
                </div>

                <div class="form-group">
                  <label for="vaga-resultados" class="form-label">
                    Quais resultados ou entregas são esperados dessa função?
                  </label>
                  <textarea id="vaga-resultados" class="form-control" rows="3"
                    placeholder="Ex: Atendimentos realizados, relatórios, metas de satisfação..."></textarea>
                </div>

                <div class="form-group">
                  <label for="vaga-nova-substituicao" class="form-label">
                    Essa vaga é nova ou está substituindo alguém?
                  </label>
                  <textarea id="vaga-nova-substituicao" class="form-control" rows="2"
                    placeholder="Ex: Nova posição / Substituição de colaborador desligado..."></textarea>
                </div>
              </fieldset>

              <!-- Remuneração e Fechamento -->
              <fieldset>
                <legend><i class="fas fa-dollar-sign me-2"></i>Remuneração e Fechamento</legend>
                <div class="details-grid cols-2">
                  <div class="form-group">
                    <label for="vaga-valor-salario" class="form-label">Valor do Salário (ou Faixa)</label>
                    <input type="text" id="vaga-valor-salario" class="form-control"
                      placeholder="Ex: R$ 3.500,00 ou A combinar" />
                  </div>
                  <div class="form-group">
                    <label for="vaga-data-fechamento" class="form-label">Data de Fechamento da Vaga</label>
                    <input type="date" id="vaga-data-fechamento" class="form-control" />
                  </div>
                </div>
              </fieldset>

              <!-- Formação e Qualificações -->
              <fieldset>
                <legend><i class="fas fa-graduation-cap me-2"></i>Formação e Qualificações</legend>
                <div class="form-group">
                  <label for="vaga-formacao-minima" class="form-label">Qual é a formação mínima exigida?</label>
                  <textarea id="vaga-formacao-minima" class="form-control" rows="3"
                    placeholder="Ex: Psicologia, Psiquiatria, Terapia Ocupacional, etc."></textarea>
                </div>

                <div class="form-group">
                  <label for="vaga-conselho" class="form-label">
                    O profissional precisa estar registrado em algum conselho (ex: CRP, CRM)?
                  </label>
                  <textarea id="vaga-conselho" class="form-control" rows="2"
                    placeholder="Ex: Sim, CRP ativo / Não é exigido."></textarea>
                </div>

                <div class="form-group">
                  <label for="vaga-especializacoes" class="form-label">Há especializações desejadas?</label>
                  <textarea id="vaga-especializacoes" class="form-control" rows="3"
                    placeholder="Ex: TCC, Psicanálise, Neuropsicologia."></textarea>
                </div>
              </fieldset>

              <!-- Competências e Habilidades -->
              <fieldset>
                <legend><i class="fas fa-star me-2"></i>Competências e Habilidades</legend>
                <div class="form-group">
                  <label for="vaga-comp-tecnicas" class="form-label">
                    Quais competências técnicas são indispensáveis?
                  </label>
                  <textarea id="vaga-comp-tecnicas" class="form-control" rows="3"
                    placeholder="Ex: Excel avançado, ferramentas de gestão, idiomas."></textarea>
                </div>

                <div class="form-group">
                  <label for="vaga-comp-comportamentais" class="form-label">
                    Quais competências comportamentais são desejadas?
                  </label>
                  <textarea id="vaga-comp-comportamentais" class="form-control" rows="3"
                    placeholder="Ex: Liderança, Comunicação, Resiliência, Proatividade."></textarea>
                </div>

                <div class="form-group">
                  <label for="vaga-certificacoes" class="form-label">
                    Há certificações ou formações específicas exigidas?
                  </label>
                  <textarea id="vaga-certificacoes" class="form-control" rows="2"></textarea>
                </div>
              </fieldset>

              <!-- Experiência e Atuação -->
              <fieldset>
                <legend><i class="fas fa-chart-line me-2"></i>Experiência e Atuação</legend>
                <div class="form-group">
                  <label for="vaga-nivel-experiencia" class="form-label">
                    Qual o nível de experiência necessário?
                  </label>
                  <select id="vaga-nivel-experiencia" class="form-control">
                    <option value="">Selecione o Nível</option>
                    <option value="junior">Júnior</option>
                    <option value="pleno">Pleno</option>
                    <option value="senior">Sênior</option>
                    <option value="especialista">Especialista</option>
                  </select>
                </div>

                <div class="form-group">
                  <label for="vaga-contextos-similares" class="form-label">
                    O profissional já atuou em contextos similares?
                  </label>
                  <textarea id="vaga-contextos-similares" class="form-control" rows="3"
                    placeholder="Ex: Clínica, hospital, escola, empresa."></textarea>
                </div>

                <div class="form-group">
                  <label for="vaga-atuacao-grupos" class="form-label">
                    Está habituado a trabalhar com grupos, famílias ou atendimento individual?
                  </label>
                  <textarea id="vaga-atuacao-grupos" class="form-control" rows="3"></textarea>
                </div>
              </fieldset>

              <!-- Fit Cultural e Valores -->
              <fieldset>
                <legend><i class="fas fa-heart me-2"></i>Fit Cultural e Valores</legend>
                <div class="form-group">
                  <label for="vaga-fit-valores" class="form-label">
                    Quais valores da EuPsico são importantes que o candidato compartilhe?
                  </label>
                  <textarea id="vaga-fit-valores" class="form-control" rows="3"></textarea>
                </div>

                <div class="form-group">
                  <label for="vaga-estilo-equipe" class="form-label">
                    Como é o estilo de trabalho da equipe (colaborativo, autônomo, ágil)?
                  </label>
                  <textarea id="vaga-estilo-equipe" class="form-control" rows="2"></textarea>
                </div>

                <div class="form-group">
                  <label for="vaga-perfil-destaque" class="form-label">
                    Que tipo de perfil costuma se destacar na empresa?
                  </label>
                  <textarea id="vaga-perfil-destaque" class="form-control" rows="2"></textarea>
                </div>
              </fieldset>

              <!-- Crescimento e Desafios -->
              <fieldset>
                <legend><i class="fas fa-rocket me-2"></i>Crescimento e Desafios</legend>
                <div class="form-group">
                  <label for="vaga-oportunidades" class="form-label">
                    Quais são as oportunidades de desenvolvimento dentro da função?
                  </label>
                  <textarea id="vaga-oportunidades" class="form-control" rows="3"></textarea>
                </div>

                <div class="form-group">
                  <label for="vaga-desafios" class="form-label">
                    Quais os principais desafios que o novo colaborador enfrentará?
                  </label>
                  <textarea id="vaga-desafios" class="form-control" rows="3"></textarea>
                </div>

                <div class="form-group">
                  <label for="vaga-plano-carreira" class="form-label">
                    Existe plano de carreira para essa posição?
                  </label>
                  <textarea id="vaga-plano-carreira" class="form-control" rows="2"></textarea>
                </div>
              </fieldset>
            </div>
          </div>

          <div class="modal-footer">
            <button type="button" class="action-button secondary" data-modal="modal-vaga">
              <i class="fas fa-times me-2"></i> Fechar
            </button>
            <button type="submit" class="action-button success" id="btn-salvar-vaga">
              <i class="fas fa-save me-2"></i> Salvar e Próxima Etapa
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Modal: Criação de Arte -->
    <div id="modal-criacao-arte" class="modal-overlay">
      <div class="modal-content" style="max-width: 700px;">
        <form id="form-criacao-arte">
          <div class="modal-header">
            <h3>Criação da Arte de Divulgação</h3>
            <button type="button" class="close-modal-btn" data-modal="modal-criacao-arte" aria-label="Fechar modal">
              &times;
            </button>
          </div>

          <div class="modal-body">
            <input type="hidden" id="vaga-id-arte-criacao" />

            <fieldset>
              <legend><i class="fas fa-palette me-2"></i>Dados da Arte</legend>

              <div class="form-group">
                <label for="vaga-resumo-arte" class="form-label">
                  Resumo da Vaga para Divulgação (Será usado na criação da arte):
                </label>
                <textarea id="vaga-resumo-arte" class="form-control" rows="4"
                  placeholder="Ex: Buscamos Psicólogo(a) para atendimento clínico..."></textarea>
              </div>

              <div class="form-group">
                <label for="vaga-link-arte" class="form-label">Link da Arte (URL) *</label>
                <input type="url" id="vaga-link-arte" class="form-control" required
                  placeholder="Insira o link para a imagem ou post da arte" />
              </div>

              <div class="form-group">
                <label for="vaga-texto-divulgacao" class="form-label">Texto de Divulgação *</label>
                <textarea id="vaga-texto-divulgacao" class="form-control" rows="4" required
                  placeholder="O texto completo que acompanhará a arte."></textarea>
              </div>
            </fieldset>
          </div>

          <div class="modal-footer">
            <button type="button" class="action-button secondary" data-modal="modal-criacao-arte">
              <i class="fas fa-times me-2"></i> Fechar
            </button>
            <button type="button" class="action-button success" id="btn-enviar-aprovacao-arte">
              <i class="fas fa-paper-plane me-2"></i> Enviar para Aprovação
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Modal: Aprovação da Arte -->
    <div id="modal-aprovacao-arte" class="modal-overlay">
      <div class="modal-content" style="max-width: 700px;">
        <div class="modal-header">
          <h3>Aprovação da Arte de Divulgação</h3>
          <button type="button" class="close-modal-btn" data-modal="modal-aprovacao-arte" aria-label="Fechar modal">
            &times;
          </button>
        </div>

        <div class="modal-body">
          <input type="hidden" id="vaga-id-arte-aprovacao" />

          <fieldset>
            <legend><i class="fas fa-info-circle me-2"></i>Resumo da Vaga para Divulgação</legend>
            <div class="details-grid">
              <p class="card-text">
                <strong>Salário:</strong><br>
                <span id="aprovacao-salario">...</span>
              </p>
              <p class="card-text">
                <strong>Regime:</strong> <span id="aprovacao-regime">...</span> |
                <strong>Modalidade:</strong> <span id="aprovacao-modalidade">...</span>
              </p>
            </div>
          </fieldset>

          <fieldset>
            <legend><i class="fas fa-image me-2"></i>Informações da Arte para Revisão</legend>
            <div class="form-group">
              <label class="form-label">Link da Arte:</label>
              <p>
                <a href="#" target="_blank" id="link-arte-clicavel" class="action-button info small">
                  <i class="fas fa-external-link-alt me-2"></i> Ver Arte
                </a>
              </p>
            </div>

            <div class="form-group">
              <label class="form-label">Texto de Divulgação:</label>
              <p id="aprovacao-texto-divulgacao-visual" class="pre-wrap">N/A</p>
            </div>
          </fieldset>
        </div>

        <div class="modal-footer">
          <button type="button" class="action-button secondary" data-modal="modal-aprovacao-arte">
            <i class="fas fa-times me-2"></i> Fechar
          </button>
          <button type="button" class="action-button warning" id="btn-solicitar-alteracoes-arte">
            <i class="fas fa-edit me-2"></i> Solicitar Alterações
          </button>
          <button type="button" class="action-button success" id="btn-aprovar-arte-final">
            <i class="fas fa-check me-2"></i> Aprovar Arte
          </button>
        </div>
      </div>
    </div>

    <!-- Modal: Divulgação -->
    <div id="modal-divulgacao" class="modal-overlay">
      <div class="modal-content" style="max-width: 800px;">
        <form id="form-divulgacao">
          <div class="modal-header">
            <h3>Gerenciar Divulgação</h3>
            <button type="button" class="close-modal-btn" data-modal="modal-divulgacao" aria-label="Fechar modal">
              &times;
            </button>
          </div>

          <div class="modal-body">
            <input type="hidden" id="vaga-id-divulgacao" />

            <fieldset>
              <legend><i class="fas fa-check-circle me-2"></i>Arte Aprovada (Revisão)</legend>
              <div class="form-group">
                <label class="form-label">Link da Arte:</label>
                <p>
                  <a href="#" target="_blank" id="divulgacao-link-clicavel" class="action-button info small">
                    <i class="fas fa-external-link-alt me-2"></i> Ver Arte
                  </a>
                </p>
              </div>

              <div class="form-group">
                <label class="form-label">Texto de Divulgação Aprovado:</label>
                <p id="divulgacao-texto-aprovado" class="pre-wrap">N/A</p>
              </div>
            </fieldset>

            <fieldset>
              <legend><i class="fas fa-bullhorn me-2"></i>Canais e Período de Divulgação</legend>
              <div class="form-group">
                <label for="vaga-canais-divulgacao" class="form-label">
                  Canais Onde a Vaga Foi Divulgada:
                </label>
                <select id="vaga-canais-divulgacao" class="form-control" multiple size="6">
                  <option value="linkedin">LinkedIn</option>
                  <option value="sites-emprego">Sites de Emprego (Ex: Gupy, Vagas.com)</option>
                  <option value="redes-sociais">Redes Sociais (Ex: Instagram, Facebook)</option>
                  <option value="whatsapp">Grupos de WhatsApp</option>
                  <option value="eupsico-site">Site EuPsico</option>
                  <option value="outros">Outros</option>
                </select>
                <small class="form-text text-muted">
                  Selecione todos os canais utilizados (Ctrl/Cmd + Click).
                </small>
              </div>

              <div class="details-grid cols-2">
                <div class="form-group">
                  <label for="vaga-data-inicio-divulgacao" class="form-label">Data de Início da Divulgação</label>
                  <input type="date" id="vaga-data-inicio-divulgacao" class="form-control" />
                </div>
                <div class="form-group">
                  <label for="vaga-data-fim-divulgacao" class="form-label">Data de Fim da Divulgação</label>
                  <input type="date" id="vaga-data-fim-divulgacao" class="form-control" />
                </div>
              </div>
            </fieldset>
          </div>

          <div class="modal-footer">
            <button type="button" class="action-button secondary" data-modal="modal-divulgacao">
              <i class="fas fa-times me-2"></i> Fechar
            </button>
            <button type="button" class="action-button success" id="btn-salvar-divulgacao">
              <i class="fas fa-save me-2"></i> Salvar Divulgação
            </button>
            <button type="button" class="action-button error" id="btn-encerrar-vaga">
              <i class="fas fa-ban me-2"></i> Encerrar Vaga
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Modal: Vagas Fechadas/Encerradas -->
    <div id="modal-fechadas" class="modal-overlay">
      <div class="modal-content" style="max-width: 900px;">
        <div class="modal-header">
          <h3 id="fechadas-title">Vaga Encerrada/Cancelada</h3>
          <button type="button" class="close-modal-btn" data-modal="modal-fechadas" aria-label="Fechar modal">
            &times;
          </button>
        </div>

        <div class="modal-body">
          <input type="hidden" id="vaga-id-fechadas" />

          <fieldset>
            <legend><i class="fas fa-file-alt me-2"></i>Ficha Técnica Completa</legend>
            <div id="visualizacao-ficha-completa"></div>
          </fieldset>

          <fieldset>
            <legend><i class="fas fa-palette me-2"></i>Detalhes da Divulgação</legend>
            <div id="visualizacao-arte-completa"></div>
          </fieldset>

          <fieldset>
            <legend><i class="fas fa-history me-2"></i>Histórico e Alterações</legend>
            <div id="visualizacao-historico">
              <p>Detalhes de aprovações, rejeições e cancelamento/encerramento.</p>
            </div>
          </fieldset>
        </div>

        <div class="modal-footer">
          <button type="button" class="action-button error" id="btn-cancelar-vaga-fechada">
            <i class="fas fa-ban me-2"></i> Cancelar Vaga
          </button>
          <button type="button" class="action-button secondary" data-modal="modal-fechadas">
            <i class="fas fa-times me-2"></i> Fechar
          </button>
          <button type="button" class="action-button primary" id="btn-reaproveitar-vaga">
            <i class="fas fa-copy me-2"></i> Reaproveitar Vaga
          </button>
        </div>
      </div>
    </div>

    <!-- Loading Spinner Global -->
    <div id="global-loading-spinner">
      <div class="spinner"></div>
    </div>

    <!-- Modal: Solicitar Correção -->
<div id="modal-solicitar-correcao" class="modal-overlay">
  <div class="modal-content" style="max-width: 600px;">
    <div class="modal-header">
      <h3 id="modal-correcao-title">Solicitar Correção</h3>
      <button type="button" class="close-modal-btn" data-modal="modal-solicitar-correcao" aria-label="Fechar modal">
        &times;
      </button>
    </div>
    
    <form id="form-solicitar-correcao">
      <div class="modal-body">
        <input type="hidden" id="vaga-id-correcao" />
        <input type="hidden" id="tipo-correcao" /> <!-- "ficha" ou "arte" -->
        
        <fieldset>
          <legend><i class="fas fa-exclamation-triangle me-2"></i>Motivo da Correção</legend>
          <div class="form-group">
            <label for="motivo-correcao" class="form-label">
              Descreva as alterações ou correções necessárias: *
            </label>
            <textarea id="motivo-correcao" class="form-control" rows="6" required
              placeholder="Seja específico sobre o que precisa ser corrigido ou alterado..."></textarea>
            <small class="form-text text-muted">
              Esta mensagem será enviada ao responsável pela correção.
            </small>
          </div>
        </fieldset>
      </div>
      
      <div class="modal-footer">
        <button type="button" class="action-button secondary" data-modal="modal-solicitar-correcao">
          <i class="fas fa-times me-2"></i> Cancelar
        </button>
        <button type="submit" class="action-button warning" id="btn-confirmar-correcao">
          <i class="fas fa-paper-plane me-2"></i> Enviar Solicitação
        </button>
      </div>
    </form>
  </div>
</div>

  </div>

  <script type="module" src="../js/gestao_vagas.js"></script>

</body>

</html>