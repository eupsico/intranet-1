<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />

    <title>Candidatura de Vaga - EuPsico</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" href="../assets/css/design-system.css" />

    <style>
      body {
        background-color: #f4f7f6;
        font-family: Arial, sans-serif;
        padding: 20px;
      }
      .container {
        max-width: 600px;
        margin: 50px auto;
        background: #fff;
        padding: 30px;
        border-radius: 8px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }
      h2 {
        color: #2c3e50;
        text-align: center;
        margin-bottom: 25px;
      }
      .form-group {
        margin-bottom: 15px;
      }
      label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
      }
      input[type="text"],
      input[type="email"],
      select,
      textarea {
        width: 100%;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 4px;
        box-sizing: border-box;
      }
      .btn-submit {
        background-color: #3498db;
        color: white;
        padding: 12px 20px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        width: 100%;
        font-size: 16px;
        margin-top: 10px;
      }
      .btn-submit:hover {
        background-color: #2980b9;
      }
      .loading-spinner {
        text-align: center;
        padding: 20px;
      }
      .mensagem-sucesso,
      .mensagem-erro {
        padding: 15px;
        border-radius: 4px;
        margin-top: 20px;
        text-align: center;
      }
      .mensagem-sucesso {
        background-color: #e6ffe6;
        color: #27ae60;
        border: 1px solid #27ae60;
      }
      .mensagem-erro {
        background-color: #ffe6e6;
        color: #c0392b;
        border: 1px solid #c0392b;
        word-break: break-word;
      }
    </style>
  </head>

  <body>
    <div class="container">
      <h2>Formulário de Candidatura EuPsico</h2>

      <!-- Formulário -->
      <form id="form-candidatura" enctype="multipart/form-data">
        <div id="loading-vagas" class="loading-spinner">
          Carregando vagas disponíveis...
        </div>

        <!-- Seleção de vaga -->
        <div class="form-group" id="vaga-select-group" style="display: none">
          <label for="select-vaga">Selecione a Vaga:</label>
          <select id="select-vaga" required name="vaga-id">
            <option value="">Selecione a vaga...</option>
          </select>
        </div>

        <!-- Campos do candidato -->
        <div class="form-group">
          <label for="form-paciente">Nome Completo:</label>
          <input type="text" id="form-paciente" required name="paciente" />
        </div>

        <div class="form-group">
          <label for="email-candidato">Email para Contato:</label>
          <input type="email" id="email-candidato" required name="email-candidato" />
        </div>

        <div class="form-group">
          <label for="telefone-candidato">
            Telefone (com DDD), de preferência o WhatsApp:
          </label>
          <input type="text" id="telefone-candidato" required name="telefone-candidato" placeholder="(XX) XXXXX-XXXX" />
        </div>

        <hr />

        <!-- Endereço -->
        <div class="row">
          <div class="col-md-4 form-group">
            <label for="cep-candidato">CEP:</label>
            <input type="text" id="cep-candidato" required name="cep-candidato" maxlength="9" placeholder="Ex: 00000-000" />
          </div>

          <div class="col-md-2 form-group">
            <label for="numero-endereco">Número:</label>
            <input type="text" id="numero-endereco" required name="numero-endereco" />
          </div>

          <div class="col-md-6 form-group">
            <label for="cidade-endereco">Cidade:</label>
            <input type="text" id="cidade-endereco" required readonly name="cidade-endereco" />
          </div>
        </div>

        <div class="row">
          <div class="col-md-6 form-group">
            <label for="endereco-rua">Endereço (Rua/Av):</label>
            <input type="text" id="endereco-rua" required readonly name="endereco-rua" />
          </div>

          <div class="col-md-6 form-group">
            <label for="estado-endereco">Estado (UF):</label>
            <input type="text" id="estado-endereco" required readonly name="estado-endereco" />
          </div>
        </div>

        <hr />

        <!-- Experiência -->
        <div class="form-group">
          <label for="resumo-experiencia">Resumo da Experiência Profissional:</label>
          <textarea id="resumo-experiencia" rows="4" required name="resumo-experiencia" placeholder="Fale sobre suas qualificações, tempo de experiência na área e principais conquistas."></textarea>
        </div>

        <div class="form-group">
          <label for="habilidades-competencias">Habilidades/Competências:</label>
          <textarea id="habilidades-competencias" rows="3" required name="habilidades-competencias" placeholder="Ex: Python, Machine Learning, Liderança, Comunicação, Firebase, etc."></textarea>
        </div>

        <div class="form-group">
          <label for="como-conheceu">Como conheceu a EuPsico (e a vaga):</label>
          <select id="como-conheceu" required name="como-conheceu">
            <option value="">Selecione...</option>
            <option value="linkedin">LinkedIn</option>
            <option value="instagram">Instagram</option>
            <option value="site">Site da EuPsico</option>
            <option value="indicacao">Indicação de um Colaborador</option>
            <option value="outros">Outros</option>
          </select>
        </div>

        <hr />

        <!-- Arquivo para envio -->
        <div class="form-group">
          <label for="form-arquivo">Anexar Currículo (PDF, DOCX, até 5MB):</label>
          <input type="file" id="form-arquivo" accept=".pdf,.docx" name="arquivo" required />
        </div>

        <button type="submit" id="btn-submit" class="btn-submit">
          Enviar Candidatura
        </button>

        <div id="mensagem-feedback"></div>
      </form>
    </div>

    <!-- Scripts -->
    <script type="module" src="../assets/js/firebase-init.js"></script>
    <script type="module" src="../assets/js/candidatura-publica.js"></script>
  </body>
</html>
