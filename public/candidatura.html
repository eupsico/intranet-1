<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />

    <title>Candidatura de Vaga - EuPsico</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" href="../assets/css/design-system.css" />

    <style>
      /* Estilos simples para o formulário público */
      body {
        background-color: #f4f7f6;
        font-family: Arial, sans-serif;
        padding: 20px;
      }
      .container {
        max-width: 600px;
        margin: 50px auto;
        background: #fff;
        padding: 30px;
        border-radius: 8px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }
      h2 {
        color: #2c3e50;
        text-align: center;
        margin-bottom: 25px;
      }
      .form-group {
        margin-bottom: 15px;
      }
      label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
      }
      input[type="text"],
      input[type="email"],
      select,
      textarea {
        /* Adicionado textarea */
        width: 100%;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 4px;
        box-sizing: border-box;
      }
      .btn-submit {
        background-color: #3498db;
        color: white;
        padding: 12px 20px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        width: 100%;
        font-size: 16px;
        margin-top: 10px;
      }
      .btn-submit:hover {
        background-color: #2980b9;
      }
      .loading-spinner {
        text-align: center;
        padding: 20px;
      }
      .mensagem-sucesso,
      .mensagem-erro {
        padding: 15px;
        border-radius: 4px;
        margin-top: 20px;
        text-align: center;
      }
      .mensagem-sucesso {
        background-color: #e6ffe6;
        color: #27ae60;
        border: 1px solid #27ae60;
      }
      .mensagem-erro {
        background-color: #ffe6e6;
        color: #c0392b;
        border: 1px solid #c0392b;
        word-break: break-word; /* Adiciona quebra de linha em caso de erro longo */
      }
    </style>
  </head>

  <body>
    <div class="container">
      <h2>Formulário de Candidatura EuPsico</h2>

      <form id="form-candidatura" target="hidden_iframe">
        <div id="loading-vagas" class="loading-spinner">
          Carregando vagas disponíveis...
        </div>

        <div class="form-group" id="vaga-select-group" style="display: none">
          <label for="select-vaga">Selecione a Vaga:</label>
          <select id="select-vaga" required name="vaga-id">
            <option value="">Selecione a vaga...</option>
          </select>
        </div>

        <div class="form-group">
          <label for="nome-candidato">Nome Completo:</label>
          <input type="text" id="nome-candidato" required name="nome-candidato" />
        </div>

        <div class="form-group">
          <label for="email-candidato">Email para Contato:</label>
          <input type="email" id="email-candidato" required name="email-candidato" />
        </div>

        <div class="form-group">
          <label for="telefone-candidato"
            >Telefone (com DDD), de preferência o WhatsApp:</label
          >

          <input
            type="text"
            id="telefone-candidato"
            required
            name="telefone-candidato"
            placeholder="(XX) XXXXX-XXXX"
          />
        </div>

        <hr />

        <div class="row">
          <div class="col-md-4 form-group">
            <label for="cep-candidato">CEP:</label>
            <input
              type="text"
              id="cep-candidato"
              required
              name="cep-candidato"
              maxlength="9"
              placeholder="Ex: 00000-000"
            />
          </div>

          <div class="col-md-2 form-group">
            <label for="numero-endereco">Número:</label>
            <input type="text" id="numero-endereco" required name="numero-endereco" />
          </div>

          <div class="col-md-6 form-group">
            <label for="cidade-endereco">Cidade:</label>
            <input type="text" id="cidade-endereco" required readonly name="cidade-endereco" />
          </div>
        </div>

        <div class="row">
          <div class="col-md-6 form-group">
            <label for="endereco-rua">Endereço (Rua/Av):</label>
            <input type="text" id="endereco-rua" required readonly name="endereco-rua" />
          </div>

          <div class="col-md-6 form-group">
            <label for="estado-endereco">Estado (UF):</label>
            <input type="text" id="estado-endereco" required readonly name="estado-endereco" />
          </div>
        </div>

        <hr />
<!-- NOVOS CAMPOS ADICIONADOS -->
<div class="form-group">
  <label for="data-nascimento">Data de Nascimento:</label>
  <input 
    type="date" 
    id="data-nascimento" 
    name="data-nascimento" 
    class="form-control" 
    required 
  />
</div>

<div class="form-group">
  <label for="genero">Gênero: <span class="required">*</span></label>
  <select id="genero" name="genero" class="form-control" required>
    <option value="">Selecione...</option>
    <option value="Feminino (cisgênero)">Feminino (cisgênero)</option>
    <option value="Masculino (cisgênero)">Masculino (cisgênero)</option>
    <option value="Mulher trans">Mulher trans</option>
    <option value="Homem trans">Homem trans</option>
    <option value="Pessoa não binária">Pessoa não binária</option>
    <option value="Prefiro não declarar">Prefiro não declarar</option>
  </select>
</div>

<div class="form-group">
  <label for="escolaridade">Escolaridade: <span class="required">*</span></label>
  <select id="escolaridade" name="escolaridade" class="form-control" required>
    <option value="">Selecione...</option>
    <option value="Ensino Fundamental incompleto">Ensino Fundamental incompleto</option>
    <option value="Ensino Fundamental completo">Ensino Fundamental completo</option>
    <option value="Ensino Médio incompleto">Ensino Médio incompleto</option>
    <option value="Ensino Médio completo">Ensino Médio completo</option>
    <option value="Ensino Superior incompleto">Ensino Superior incompleto</option>
    <option value="Ensino Superior completo">Ensino Superior completo</option>
    <option value="Pós-graduação">Pós-graduação</option>
  </select>
</div>

    <!-- PERGUNTAS ADICIONAIS RELEVANTES PARA RECRUTAMENTO -->
    <div class="form-group">
      <label for="area-formacao">Área de Formação (curso principal): <span class="required">*</span></label>
      <input 
        type="text" 
        id="area-formacao" 
        name="area-formacao" 
        class="form-control" 
        placeholder="Ex: Psicologia, Administração, etc." 
        required 
      />
    </div>

    <div class="form-group">
      <label for="disponibilidade-inicio">Disponibilidade para Início: <span class="required">*</span></label>
      <select id="disponibilidade-inicio" name="disponibilidade-inicio" class="form-control" required>
        <option value="">Selecione...</option>
        <option value="Imediata">Imediata</option>
        <option value="15 dias">15 dias</option>
        <option value="30 dias">30 dias</option>
        <option value="45 dias">45 dias</option>
        <option value="60 dias ou mais">60 dias ou mais</option>
      </select>
    </div>

    <div class="form-group">
      <label for="pretensao-salarial">Pretensão Salarial (opcional):</label>
      <input 
        type="text" 
        id="pretensao-salarial" 
        name="pretensao-salarial" 
        class="form-control" 
        placeholder="Ex: R$ 3.500,00 ou A combinar" 
      />
    </div>

    <div class="form-group">
      <label for="experiencia-area">Tempo de Experiência na Área: <span class="required">*</span></label>
      <select id="experiencia-area" name="experiencia-area" class="form-control" required>
        <option value="">Selecione...</option>
        <option value="Nenhuma">Nenhuma (primeira experiência)</option>
        <option value="Menos de 1 ano">Menos de 1 ano</option>
        <option value="1 a 2 anos">1 a 2 anos</option>
        <option value="3 a 5 anos">3 a 5 anos</option>
        <option value="5 a 10 anos">5 a 10 anos</option>
        <option value="Mais de 10 anos">Mais de 10 anos</option>
      </select>
    </div>

    <div class="form-group">
      <label for="possui-veiculo">Possui Veículo Próprio?</label>
      <select id="possui-veiculo" name="possui-veiculo" class="form-control">
        <option value="">Selecione...</option>
        <option value="Sim">Sim</option>
        <option value="Não">Não</option>
      </select>
    </div>

    <div class="form-group">
      <label for="cnh">Possui CNH (Carteira de Habilitação)?</label>
      <select id="cnh" name="cnh" class="form-control">
        <option value="">Selecione...</option>
        <option value="Sim">Sim</option>
        <option value="Não">Não</option>
      </select>
    </div>

    <div class="form-group">
      <label for="linkedin-url">Link do LinkedIn (opcional):</label>
      <input 
        type="url" 
        id="linkedin-url" 
        name="linkedin-url" 
        class="form-control" 
        placeholder="https://linkedin.com/in/seu-perfil" 
      />
    </div>

    <div class="form-group">
      <label for="portfolio-url">Link do Portfólio/Site (opcional):</label>
      <input 
        type="url" 
        id="portfolio-url" 
        name="portfolio-url" 
        class="form-control" 
        placeholder="https://seu-portfolio.com" 
      />
    </div>

    <div class="form-group">
      <label for="motivacao">Por que você se interessou por esta vaga? <span class="required">*</span></label>
      <textarea 
        id="motivacao" 
        name="motivacao" 
        class="form-control" 
        rows="4" 
        placeholder="Conte-nos o que te motivou a se candidatar para esta vaga..."
        required
      ></textarea>
    </div>

    <div class="form-group">
      <label for="pcd">Pessoa com Deficiência (PCD)?</label>
      <select id="pcd" name="pcd" class="form-control">
        <option value="">Selecione...</option>
        <option value="Sim">Sim</option>
        <option value="Não">Não</option>
        <option value="Prefiro não declarar">Prefiro não declarar</option>
      </select>
    </div>

        <hr />
        <div class="form-group">
          <label for="resumo-experiencia"
            >Resumo da Experiência Profissional (Breve Apresentação
            Profissional):</label
          >

          <textarea
            id="resumo-experiencia"
            rows="4"
            required
            name="resumo-experiencia"
            placeholder="Fale sobre suas qualificações, tempo de experiência na área e principais conquistas."
          ></textarea>
        </div>

        <div class="form-group">
          <label for="habilidades-competencias"
            >Habilidades/Competências (Separe por vírgulas):</label
          >

          <textarea
            id="habilidades-competencias"
            rows="3"
            required
            name="habilidades-competencias"
            placeholder="Ex: Python, Machine Learning, Liderança, Comunicação, Firebase, etc."
          ></textarea>
        </div>

        <div class="form-group">
          <label for="como-conheceu">Como conheceu a EuPsico (e a vaga):</label>

          <select id="como-conheceu" required name="como-conheceu">
            <option value="">Selecione...</option>

            <option value="linkedin">LinkedIn</option>

            <option value="instagram">Instagram</option>

            <option value="site">Site da EuPsico</option>

            <option value="indicacao">Indicação de um Colaborador</option>

            <option value="outros">Outros</option>
          </select>
        </div>

        <hr />

        <div class="form-group">
          <label for="anexo-curriculo"
            >Anexar Currículo (PDF, DOCX, no máximo 5MB - Será salvo no Google
            Drive):</label
          >

          <input
            type="file"
            id="anexo-curriculo"
            accept=".pdf,.docx"
            name="arquivo-curriculo"
            required
          />
        </div>

        <button type="submit" id="btn-submit" class="btn-submit" disabled>
          Enviar Candidatura
        </button>

        <div id="mensagem-feedback"></div>
      </form>

      <iframe name="hidden_iframe" id="hidden_iframe" style="display: none"></iframe>
    </div>

    <script type="module" src="../assets/js/firebase-init.js"></script>

    <script type="module" src="../assets/js/candidatura-publica.js"></script>
  </body>
</html>